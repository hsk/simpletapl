# TAPL20,23,26 再帰型(λμ) SystemF 有界量化

## 図20-1.同型再帰型(λμ)

  → μ   λ→(図9-1)の拡張

    新しい構文

    t ::= … 項：
    　fold[T] t   畳み込み
    　unfold[T] t 展開
    v ::= …      値：
    　fold[T] v   畳み込み
    T ::= …      型：
    　X           型変数
    　μX.T       再帰型

    新しい評価規則 t ==> t’

    unfold[S](fold [T] v1) ==> v1    (E-UnfldFld)

    t1 ==> t1’
    ———————————————— (E-Fld)
    fold[T] t1 ==> fold[T] t1’

    t1 ==> t1’
    ———————————————— (E-Unfld)
    fold[T] t1 ==> fold[T] t1’


    新しい型付け規則 Γ ⊢ t : T

    U = μX.T1   Γ ⊢ t1 : [X->U]T1
    ———————————————— (T-Fld)
    Γ ⊢ fold[U] t1 : U

    U = μX.T1   Γ ⊢ t1 : U
    ———————————————— (T-Unfld)
    Γ ⊢ unfold[U] t1 : [X -> U] T1

## 図23-1.多相ラムダ計算(System F)

  → ∀   λ→(図9-1)の拡張

    構文

    t ::= … 項：
    　λX.t  型抽象
    　t[T]   型適用
    v ::= … 値：
    　λX.t  型抽象値
    T ::= … 型：
    　X      型変数
    　∀X.T  全称型
    Γ::= … 文脈：
    　Γ,X   型変数の束縛

    評価 t ==> t’

    t1 ==> t1’
    ————————————————(E-TApp)
    t1[T2] ==> t1’[T2]

    (λX.t12)[T2] ==> [X -> T2] t12 (E-TAppTAbs)

    型付け Γ ⊢ t : T

    Γ,X ⊢ t2 : T2
    —————————————— (T-TAbs)
    Γ ⊢ λX.t2 : ∀X.T2

    Γ ⊢ t1 : ∀X.T12
    —————————————— (T-TApp)
    Γ ⊢ t1[T2] : [X -> T2] T12
